{"version":3,"file":"static/js/337.0c9cd32f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Catalog/catalog.module.css?b0a1","components/helpers/Input.jsx","pages/Catalog/Filters.jsx","pages/Catalog/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"catalogSection\":\"catalog_catalogSection__SMmuh\",\"catalogWrapper\":\"catalog_catalogWrapper__-uPEj\",\"catalogLocationItem\":\"catalog_catalogLocationItem__gFeta\",\"catalogInputWrapper\":\"catalog_catalogInputWrapper__2K-4O\",\"catalogInput\":\"catalog_catalogInput__7+XRA\",\"inputIconLocation\":\"catalog_inputIconLocation__Kcu+v\",\"catalogInputIcon\":\"catalog_catalogInputIcon__BzTbK\",\"checkboxInput\":\"catalog_checkboxInput__eQDhR\",\"checkboxLabel\":\"catalog_checkboxLabel__9fWAk\",\"catalogSideFilters\":\"catalog_catalogSideFilters__pQEnp\",\"active\":\"catalog_active__n1XSu\",\"catalogSideP\":\"catalog_catalogSideP__wLlsX\",\"catalogInputIconVan\":\"catalog_catalogInputIconVan__P4DYe\",\"catalogSearchBtn\":\"catalog_catalogSearchBtn__hEkcD\",\"catalogInputIconSearch\":\"catalog_catalogInputIconSearch__fRy2i\",\"catalogLeft\":\"catalog_catalogLeft__YlV+E\",\"catalogRight\":\"catalog_catalogRight__IGZG5\",\"catalogSideVanWrapper\":\"catalog_catalogSideVanWrapper__7D9xT\",\"catalogFilterItem\":\"catalog_catalogFilterItem__hrRI0\"};","import css from '../../pages/Catalog/catalog.module.css';\nimport sprite from '../../image/icons/sprite.svg';\n\nconst Input = ({\n  type,\n  id,\n  name,\n  value,\n  checked,\n  onChange,\n  label,\n  icon,\n}) => (\n  <div className={css.catalogSideGroup}>\n    <input\n      type={type}\n      id={id}\n      name={name}\n      value={value}\n      checked={checked}\n      onChange={onChange}\n      className={css.checkboxInput}\n    />\n    <label\n      htmlFor={id}\n      className={`${css.checkboxLabel} ${\n        checked ? css.active : ''\n      }`}\n    >\n      <div className={css.checkboxSquare}>\n        <svg\n          className={\n            type === 'radio'\n              ? css.catalogInputIconVan\n              : css.catalogInputIcon\n          }\n        >\n          <use href={`${sprite}#${icon}`} />\n        </svg>\n      </div>\n      <p className={css.catalogSideP}>{label}</p>\n    </label>\n  </div>\n);\n\nexport default Input;\n","import Input from '../../components/helpers/Input';\nimport css from './catalog.module.css';\nimport commonModuleCss from '../../common.module.css';\n\nconst Filters = ({ filters, handleFilterChange }) => (\n  <div>\n    <p className={commonModuleCss.detailsTitle}>Vehicle equipment</p>\n    <div className={css.catalogSideFilters}>\n      <Input\n        type=\"checkbox\"\n        id=\"airConditioner\"\n        name=\"details\"\n        value=\"airConditioner\"\n        checked={filters.details.includes('airConditioner')}\n        onChange={handleFilterChange}\n        label=\"AC\"\n        icon=\"ac\"\n      />\n      <Input\n        type=\"checkbox\"\n        id=\"automatic\"\n        name=\"transmission\"\n        value=\"automatic\"\n        checked={filters.transmission.includes('automatic')}\n        onChange={handleFilterChange}\n        label=\"Automatic\"\n        icon=\"automatic\"\n      />\n      <Input\n        type=\"checkbox\"\n        id=\"kitchen\"\n        name=\"details\"\n        value=\"kitchen\"\n        checked={filters.details.includes('kitchen')}\n        onChange={handleFilterChange}\n        label=\"Kitchen\"\n        icon=\"kitchen\"\n      />\n      <Input\n        type=\"checkbox\"\n        id=\"TV\"\n        name=\"details\"\n        value=\"TV\"\n        checked={filters.details.includes('TV')}\n        onChange={handleFilterChange}\n        label=\"TV\"\n        icon=\"tv\"\n      />\n      <Input\n        type=\"checkbox\"\n        id=\"shower\"\n        name=\"details\"\n        value=\"shower\"\n        checked={filters.details.includes('shower')}\n        onChange={handleFilterChange}\n        label=\"Shower/WC\"\n        icon=\"shower\"\n      />\n    </div>\n    <p className={commonModuleCss.detailsTitle}>Vehicle type</p>\n    <div className={css.catalogSideVanWrapper}>\n      <Input\n        type=\"radio\"\n        id=\"panelTruck\"\n        name=\"form\"\n        value=\"panelTruck\"\n        checked={filters.form.includes('panelTruck')}\n        onChange={handleFilterChange}\n        label=\"Van\"\n        icon=\"camper\"\n      />\n      <Input\n        type=\"radio\"\n        id=\"fullyIntegrated\"\n        name=\"form\"\n        value=\"fullyIntegrated\"\n        checked={filters.form.includes('fullyIntegrated')}\n        onChange={handleFilterChange}\n        label=\"Fully Integrated\"\n        icon=\"van\"\n      />\n\n      <Input\n        type=\"radio\"\n        id=\"alcove\"\n        name=\"form\"\n        value=\"alcove\"\n        checked={filters.form.includes('alcove')}\n        onChange={handleFilterChange}\n        label=\"Alcove\"\n        icon=\"van_alcove\"\n      />\n    </div>\n  </div>\n);\n\nexport default Filters;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { fetchCamper } from '../../api/api';\nimport CamperList from '../../components/CamperList/CamperList';\nimport { Button } from '../../components/Button/Button';\nimport {\n  selectCampers,\n  selectIsLoading,\n  selectError,\n} from '../../redux/selectors';\nimport { resetPage, incrementPage } from '../../redux/camperSlice';\nimport Filters from './Filters';\nimport Loader from 'components/Loader/Loader';\nimport sprite from '../../image/icons/sprite.svg';\nimport commonModuleCss from '../../common.module.css';\nimport css from './catalog.module.css';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const campers = useSelector(selectCampers);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const page = useSelector(state => state.camper.page);\n  const navigate = useNavigate();\n\n  const [filters, setFilters] = useState({\n    location: '',\n    details: [],\n    form: '',\n    transmission: '',\n  });\n  const [activeFilters, setActiveFilters] = useState(filters);\n  const [loadMore, setLoadMore] = useState(true);\n  const limit = 4;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await dispatch(\n        fetchCamper({ page, limit, filters: activeFilters })\n      );\n      if (result.payload.length < limit) {\n        setLoadMore(false);\n      }\n    };\n\n    fetchData();\n  }, [dispatch, page, limit, activeFilters]);\n\n  useEffect(() => {\n    if (error) {\n      navigate('/error');\n    }\n  }, [error, navigate]);\n\n  const handleFilterChange = ({ target: { name, value, type, checked } }) => {\n    setFilters(prev => {\n      const newFilters = { ...prev };\n\n      if (type === 'checkbox') {\n        if (name === 'transmission') {\n          newFilters.transmission = checked ? value : '';\n        } else {\n          newFilters.details = checked\n            ? [...prev.details, value]\n            : prev.details.filter(detail => detail !== value);\n        }\n      } else if (type === 'radio') {\n        newFilters.form = value;\n      } else {\n        newFilters[name] = value;\n      }\n\n      return newFilters;\n    });\n  };\n\n  const handleSearch = () => {\n    dispatch(resetPage());\n    setLoadMore(true);\n    setActiveFilters(filters);\n    dispatch(fetchCamper({ page: 1, limit, filters }));\n  };\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleLoadMore = async () => {\n    dispatch(incrementPage());\n    dispatch(fetchCamper({ page: page + 1, limit, filters: activeFilters }));\n  };\n\n  if (isLoading) return <Loader />;\n  return (\n    <div className={css.catalogSection}>\n      <div className={css.catalogWrapper}>\n        <section className={css.catalogLeft}>\n          <p className={css.catalogLocationItem}>Location</p>\n          <div className={css.catalogInputWrapper}>\n            <svg className={css.inputIconLocation}>\n              <use href={`${sprite}#map_pin`} />\n            </svg>\n            <input\n              className={css.catalogInput}\n              type=\"text\"\n              name=\"location\"\n              placeholder=\"City\"\n              value={filters.location}\n              onChange={handleFilterChange}\n              onKeyDown={handleKeyDown}\n            />\n          </div>\n\n          <p className={css.catalogFilterItem}>Filters</p>\n          <Filters filters={filters} handleFilterChange={handleFilterChange} />\n          <button\n            className={`${commonModuleCss.bookingFormButton} ${css.catalogSearchBtn}`}\n            onClick={handleSearch}\n          >\n            Search\n          </button>\n        </section>\n\n        <section className={css.catalogRight}>\n          <CamperList campers={campers} />\n          <div>\n            {loadMore && <Button onClick={handleLoadMore}>Load More</Button>}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default Catalog;\n"],"names":["_ref","type","id","name","value","checked","onChange","label","icon","_jsxs","className","css","children","_jsx","htmlFor","concat","href","sprite","filters","handleFilterChange","commonModuleCss","Input","details","includes","transmission","form","dispatch","useDispatch","campers","useSelector","selectCampers","isLoading","selectIsLoading","error","selectError","page","state","camper","navigate","useNavigate","_useState","useState","location","_useState2","_slicedToArray","setFilters","_useState3","_useState4","activeFilters","setActiveFilters","_useState5","_useState6","loadMore","setLoadMore","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchCamper","limit","sent","payload","length","stop","apply","arguments","_ref2","_ref2$target","target","newFilters","_objectSpread","_toConsumableArray","filter","detail","handleSearch","resetPage","handleLoadMore","_ref3","_callee2","_context2","incrementPage","Loader","placeholder","onKeyDown","e","key","Filters","onClick","CamperList","Button"],"sourceRoot":""}