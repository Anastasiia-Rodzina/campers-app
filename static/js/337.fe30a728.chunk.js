"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[337],{1277:function(a,e,c){c.r(e),c.d(e,{default:function(){return S}});var t=c(3433),n=c(1413),l=c(5861),o=c(9439),i=c(7757),r=c.n(i),s=c(2791),u=c(4420),d=c(7689),h=c(9461),g=c(6537),p=c(5847),m=c(2829),_=c(8223),x={catalogSection:"catalog_catalogSection__SMmuh",catalogWrapper:"catalog_catalogWrapper__-uPEj",catalogLocationItem:"catalog_catalogLocationItem__gFeta",catalogInputWrapper:"catalog_catalogInputWrapper__2K-4O",catalogInput:"catalog_catalogInput__7+XRA",catalogInputIcon:"catalog_catalogInputIcon__BzTbK",checkboxInput:"catalog_checkboxInput__eQDhR",checkboxLabel:"catalog_checkboxLabel__9fWAk",catalogSideFilters:"catalog_catalogSideFilters__pQEnp",active:"catalog_active__n1XSu",catalogSideP:"catalog_catalogSideP__wLlsX",catalogInputIconVan:"catalog_catalogInputIconVan__P4DYe",catalogSearchBtn:"catalog_catalogSearchBtn__hEkcD",catalogInputIconSearch:"catalog_catalogInputIconSearch__fRy2i",catalogLeft:"catalog_catalogLeft__YlV+E",catalogRight:"catalog_catalogRight__IGZG5",catalogSideVanWrapper:"catalog_catalogSideVanWrapper__7D9xT",catalogFilterItem:"catalog_catalogFilterItem__hrRI0"},f=c(8998),v=c(184),k=function(a){var e=a.type,c=a.id,t=a.name,n=a.value,l=a.checked,o=a.onChange,i=a.label,r=a.icon;return(0,v.jsxs)("div",{className:x.catalogSideGroup,children:[(0,v.jsx)("input",{type:e,id:c,name:t,value:n,checked:l,onChange:o,className:x.checkboxInput}),(0,v.jsxs)("label",{htmlFor:c,className:"".concat(x.checkboxLabel," ").concat(l?x.active:""),children:[(0,v.jsx)("div",{className:x.checkboxSquare,children:(0,v.jsx)("svg",{className:"radio"===e?x.catalogInputIconVan:x.catalogInputIcon,children:(0,v.jsx)("use",{href:"".concat(f.Z,"#").concat(r)})})}),(0,v.jsx)("p",{className:x.catalogSideP,children:i})]})]})},I=c(4406),j=function(a){var e=a.filters,c=a.handleFilterChange;return(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:I.Z.detailsTitle,children:"Vehicle equipment"}),(0,v.jsxs)("div",{className:x.catalogSideFilters,children:[(0,v.jsx)(k,{type:"checkbox",id:"airConditioner",name:"details",value:"airConditioner",checked:e.details.includes("airConditioner"),onChange:c,label:"AC",icon:"ac"}),(0,v.jsx)(k,{type:"checkbox",id:"automatic",name:"transmission",value:"automatic",checked:e.transmission.includes("automatic"),onChange:c,label:"Automatic",icon:"automatic"}),(0,v.jsx)(k,{type:"checkbox",id:"kitchen",name:"details",value:"kitchen",checked:e.details.includes("kitchen"),onChange:c,label:"Kitchen",icon:"kitchen"}),(0,v.jsx)(k,{type:"checkbox",id:"TV",name:"details",value:"TV",checked:e.details.includes("TV"),onChange:c,label:"TV",icon:"tv"}),(0,v.jsx)(k,{type:"checkbox",id:"shower",name:"details",value:"shower",checked:e.details.includes("shower"),onChange:c,label:"Shower/WC",icon:"shower"})]}),(0,v.jsx)("p",{className:I.Z.detailsTitle,children:"Vehicle type"}),(0,v.jsxs)("div",{className:x.catalogSideVanWrapper,children:[(0,v.jsx)(k,{type:"radio",id:"panelTruck",name:"form",value:"panelTruck",checked:e.form.includes("panelTruck"),onChange:c,label:"Van",icon:"camper"}),(0,v.jsx)(k,{type:"radio",id:"fullyIntegrated",name:"form",value:"fullyIntegrated",checked:e.form.includes("fullyIntegrated"),onChange:c,label:"Fully Integrated",icon:"van"}),(0,v.jsx)(k,{type:"radio",id:"alcove",name:"form",value:"alcove",checked:e.form.includes("alcove"),onChange:c,label:"Alcove",icon:"van_alcove"})]})]})},b=c(2522),S=function(){var a=(0,u.I0)(),e=(0,u.v9)(m.kX),c=(0,u.v9)(m.xU),i=(0,u.v9)(m.zh),k=(0,u.v9)((function(a){return a.camper.page})),S=(0,d.s0)(),y=(0,s.useState)({location:"",details:[],form:"",transmission:""}),C=(0,o.Z)(y,2),N=C[0],Z=C[1],w=(0,s.useState)(N),V=(0,o.Z)(w,2),F=V[0],L=V[1],T=(0,s.useState)(!0),W=(0,o.Z)(T,2),E=W[0],R=W[1];(0,s.useEffect)((function(){var e=function(){var e=(0,l.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((0,h.MZ)({page:k,limit:4,filters:F}));case 2:e.sent.payload.length<4&&R(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,k,4,F]),(0,s.useEffect)((function(){i&&S("/error")}),[i,S]);var A=function(a){var e=a.target,c=e.name,l=e.value,o=e.type,i=e.checked;Z((function(a){var e=(0,n.Z)({},a);return"checkbox"===o?"transmission"===c?e.transmission=i?l:"":e.details=i?[].concat((0,t.Z)(a.details),[l]):a.details.filter((function(a){return a!==l})):"radio"===o?e.form=l:e[c]=l,e}))},B=function(){a((0,_.Y8)()),R(!0),L(N),a((0,h.MZ)({page:1,limit:4,filters:N}))},D=function(){var e=(0,l.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,_.bh)()),a((0,h.MZ)({page:k+1,limit:4,filters:F}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?(0,v.jsx)(b.Z,{}):(0,v.jsx)("div",{className:x.catalogSection,children:(0,v.jsxs)("div",{className:x.catalogWrapper,children:[(0,v.jsxs)("section",{className:x.catalogLeft,children:[(0,v.jsx)("p",{className:x.catalogLocationItem,children:"Location"}),(0,v.jsxs)("div",{className:x.catalogInputWrapper,children:[(0,v.jsx)("svg",{className:I.Z.icon,children:(0,v.jsx)("use",{href:"".concat(f.Z,"#map_pin")})}),(0,v.jsx)("input",{className:x.catalogInput,type:"text",name:"location",placeholder:"City",value:N.location,onChange:A,onKeyDown:function(a){"Enter"===a.key&&B()}})]}),(0,v.jsx)("p",{className:x.catalogFilterItem,children:"Filters"}),(0,v.jsx)(j,{filters:N,handleFilterChange:A}),(0,v.jsx)("button",{className:"".concat(I.Z.bookingFormButton," ").concat(x.catalogSearchBtn),onClick:B,children:"Search"})]}),(0,v.jsxs)("section",{className:x.catalogRight,children:[(0,v.jsx)(g.Z,{campers:e}),(0,v.jsx)("div",{children:E&&(0,v.jsx)(p.z,{onClick:D,children:"Load More"})})]})]})})}}}]);
//# sourceMappingURL=337.fe30a728.chunk.js.map